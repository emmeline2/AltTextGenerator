<html lang="en">
<head>
  <title>Alt Text Generator</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
</head>
<body>

<div class="p-5 text-center">
<h2>Alt Text Generator</h2>
<br>
<form method=post action=/select>
  <label for="imageUpload">Select an image:</label> 
  <input type="file" id="imageUpload" class="btn btn-outline-secondary" name="imageUpload"> 
  <br>
  <br>
  <input type="submit" value="Generate alt text" class="btn btn-success" onclick="loading()"> 
</form> 
<img id="blah" src="#" alt="your image" style="display: none; margin: auto;"/>
<p id="caption">{{ generated_caption }} </p>
<br>
<br>
<div id="loading" class="spinner-border text-muted" style="display: none; margin: auto;"></div>
</div>
</body>

<script>
function loading() {
  var x = document.getElementById("loading");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
  var caption = document.getElementById("caption");
  if (caption.style.display === "none") {
    caption.style.display = "block";
  } else {
    caption.style.display = "none";
  }

  const [file] = imageUpload.files
  if (file) {
    blah.src = URL.createObjectURL(file)
    blah.style.display = "block";
  }
}
</script>

</html>